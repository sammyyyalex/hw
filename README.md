This took way too long to figure out.
